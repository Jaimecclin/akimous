<div ref:menuItem on:mousedown="click(event, name)" class="menu-item non-selectable">{name}</div>


<style>
    .menu-item {
        display: inline-block;
        font-size: var(--ui-font-size-small);
        line-height: var(--toolbar-height);
        padding: 0 .5rem;
    }

    .menu-item:hover {
        color: white;
    }

</style>


<script>
    import g from '../lib/Globals'
    import { getRem } from '../lib/Utils'
    const menus = {
        File: [{
            text: 'Open Folder',
            icon: 'far fa-file',
            callback: (/*target*/) => {}
        }]
    }

    export default {
        components: {},
        oncreate() {},
        data() {
            return {}
        },
        methods: {
            click(e, name) {
                const { left, bottom } = this.refs.menuItem.getBoundingClientRect()
                const { items, open } = g.contextMenu.get()
                if (items === menus[name] && open)
                    g.contextMenu.set({ open: false })
                else
                    g.contextMenu.set({
                        open: true,
                        x: left,
                        y: bottom + .5 * getRem(),
                        items: menus[name],
                        caller: this
                    })
                e.stopPropagation()
            }
        }
    }

</script>
