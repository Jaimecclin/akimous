<div class="text-input" class:coalesced>
    <span class="label"><slot></slot></span><input ref:input type="text" bind:value on:change="onChange()" placeholder="{placeholder}">
</div>


<style>
    .text-input {
        display: flex;
        flex-wrap: wrap;
        margin: 0 .3rem .3rem .3rem;
    }
    
    .text-input.coalesced {
        margin-bottom: 0;
    }
    
    .label {
        color: var(--gray7);
        padding-top: .4rem;
    }
    
    input {
        width: 5rem;
        flex-grow: 1;
        background: var(--gray3);
        color: var(--basic-ui-font-color);        
        box-sizing: border-box;
        border: .07rem solid var(--gray2);
        border-radius: var(--small-radius);
        padding: .3rem;
    }
    
    .coalesced input {
        border-radius: var(--small-radius) var(--small-radius) 0 0;
    }
    
    input:hover {
        color: var(--gray9);
        border: .07rem solid var(--gray1);
    }
    
    input:active,
    input:focus {
        border: .07rem solid var(--ui-highlight-color);
        outline: none;
    }

</style>


<script>
    // import g from './lib/Globals'

    export default {
        components: {},
        oncreate() {},
        data() {
            return {
                value: '',
                placeholder: '',
                onChange: undefined,
                allowWhiteSpace: true,
                coalesced: false,
            }
        },
        methods: {
            onChange() {
                const { onChange, value } = this.get()
                if (onChange)
                    onChange(value)
            },
            focus() {
                this.refs.input.focus()
            },
        }
    }

</script>
