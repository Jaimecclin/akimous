{#if open}
<div bind:this={notificationHistory} id="notification-history" class="popup from-top" style="left: calc({left}px - 12.5rem);">
    <div class="container">
        {#each items as {level, message}}
        <div class="item {level}">{@html message}</div>
        {:else}
        <div id="no-notifications">
            No Notifications
        </div>
        {/each}
    </div>
</div>
{/if}


<style>
    #notification-history {
        padding-top: 1rem;
        padding-bottom: 1rem;
    }
    
    #notification-history .container {
        margin-left: 0;
        margin-right: 0;
    }
    
    #no-notifications {
        text-align: center;
        color: var(--gray5);
        padding-top: 5rem;
        user-select: none;
    }

    .item {
        line-height: var(--toolbar-height);
        padding: 0 1rem;
    }
    
    .item:nth-child(even) {
        background: #DDE4ED;
    }

    .item:hover {
        background: #C5D6ED;
    }

    .question {
        color: var(--darker-blue);
        border-left: 1rem solid var(--blue);
    }

    .success {
        color: var(--darker-green);
        border-left: 1rem solid var(--green);
    }

    .warning {
        color: var(--darker-yellow);
        border-left: 1rem solid var(--yellow);
    }

    .error {
        color: var(--darker-red);
        border-left: 1rem solid var(--red);
    }

</style>

<script>
    import { beforeUpdate } from 'svelte'

    import g from '../lib/Globals'
    
    export let notificationHistory,
        open = false,
        left = 0,
        items = [
            // {
            //     level: 'success',
            //     message: 'looking good'
            // }
        ]

    // [svelte-upgrade warning]
    // beforeUpdate and afterUpdate handlers behave
    // differently to their v2 counterparts
    beforeUpdate(() => {
//        if (changed.open && g.toolbar) {
//            g.app.set({
//                popup: current.open ? this : null
//            })
//        }
    })
</script>
